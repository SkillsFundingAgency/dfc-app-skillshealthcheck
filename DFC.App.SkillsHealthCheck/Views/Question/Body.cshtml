@using DFC.App.SkillsHealthCheck.ViewModels.Question
@model DFC.App.SkillsHealthCheck.ViewModels.Question.BodyViewModel
@{
    var assessmentQuestionViewModel = Model.AssessmentQuestionViewModel;
    var assessmentType = Model.AssessmentQuestionViewModel.Question?.AssessmentType;
}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">
            <span class="govuk-caption-xl">  Question @assessmentQuestionViewModel.QuestionNumber out of @assessmentQuestionViewModel.ActualTotalQuestions</span> @assessmentQuestionViewModel.AssessmentTitle
        </h1>
        @if (!(assessmentQuestionViewModel is FeedBackQuestionViewModel) && assessmentQuestionViewModel.QuestionNumber == 1)
        {
            <h2 class="heading-large">
                @assessmentQuestionViewModel.Question.SubTitle
            </h2>
            <p>
                @Html.Raw(assessmentQuestionViewModel.Question.IntroductionText)
            </p>
        }
        <partial name="@assessmentQuestionViewModel.ViewName" model="assessmentQuestionViewModel" />
    </div>

    <div class="session-timeout" tabindex="0">
        <div id="popup1" class="overlay">
            <div class="popup" aria-describedby="headerpopup">
                <div class="govuk-grid-row">
                    <div class="text-styling">
                        <h2 id="headerpopup" class="heading-medium">Your current session is about to end due to 25 minutes of inactivity</h2>
                        <p>Select <b>'extend my session'</b> if you want to continue or click <b>'end my session'</b> to leave.</p>
                        <p>This message will show for 5 minutes. If there is no further activity, your session will automatically end.</p>
                    </div>
                    <form action="/skills-health-check/question/extend-session" method="post" class="formRefresh">
                        @Html.Hidden("AssessmentType", assessmentType)
                        <button class="govuk-button ncs-button__primary govuk-button--s popup-button" data-module="govuk-button" type="submit" value="refreshpage">
                            Extend my session
                        </button>
                    </form>
                    <a class="govuk-link popup-link" href="/skills-health-check/question/end-session" rel="external">End my session</a>
                </div>
            </div>
        </div>
    </div>

    <div class="govuk-grid-column-one-third">
        <partial name="_RightBar" model="@Model.RightBarViewModel" />
    </div>
</div>